---
layout: post
title: How to make Ruby class methods backgroundable in torquebox
date: 2012-09-05 08:00:10.000000000 -07:00
categories:
- Blog
- Curated News
tags: []
status: publish
type: post
published: true
meta: {}
author:
  login: jhund
  email: jhund@clearcove.ca
  display_name: jhund
  first_name: ''
  last_name: ''
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p>The link below explains how to make a Ruby instance method backgroundable in Torquebox. Tobey Crawley told me via the mailing list how to make class methods backgroundable by including the Backgroundable Module into the class' singleton class:</p>
<pre>class Thing</pre>
<p>&nbsp; class &lt;&lt; self</p>
<p>&nbsp; &nbsp; include TorqueBox::Messaging::Backgroundable</p>
<p>&nbsp; &nbsp; def foo</p>
<p>&nbsp; &nbsp; &nbsp; # do something</p>
<p>&nbsp; &nbsp; end</p>
<p>&nbsp; &nbsp; always_background :foo</p>
<p>&nbsp; end</p>
<p>end</p>
<p>Thing.foo # will always be backgrounded.</p>
<p>Note: make sure to call always_background after the method is defined. There is a ticket to fix this limitation: https://issues.jboss.org/browse/TORQUE-891.</p>
<p>If you want to use the background proxy method instead of always backgrounding foo (i.e. Thing.background.foo) you can just leave out the always_background call altogether.</p>
<p>Link: <a href="http://bit.ly/TgsJyN">Chapter&nbsp;8.&nbsp;TorqueBox Messaging</a> via torquebox.org</p>
